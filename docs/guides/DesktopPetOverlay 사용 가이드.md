# DesktopPetOverlay 사용 가이드

## 결론
이 앱은 항상 버튼이 표시되는 구조이며, `상태 양호` 문구 때문에 버튼이 숨겨지지 않습니다.  
버튼이 보이지 않으면 창 크기/위치 또는 구버전 실행 파일 문제일 가능성이 높습니다.

## 빠른 시작
1. 실행 파일
- `out/DesktopPetOverlay-win32-x64/DesktopPetOverlay.exe`

2. 첫 확인 항목
- 상단: 캐릭터 얼굴/단계/경고 문구
- 중단: 오버레이 제어, 캐릭터 놀이터, 활동 EXP
- 하단: `Feed`, `Clean`, `Play` 버튼

3. 클릭 통과 단축키
- 기본값: `Ctrl+Alt+Shift+O`
- 클릭 통과 ON이면 창 클릭이 통과되고, 단축키로 OFF로 복구합니다.

## 기본 조작
1. Feed
- 배고픔(Hunger) 회복
- 배고픔/건강이 이미 최대치라 변화가 없으면 EXP를 주지 않습니다.

2. Clean
- 청결(Cleanliness) 회복
- 청결/건강이 이미 최대치라 변화가 없으면 EXP를 주지 않습니다.

3. Play
- 행복(Happiness) 회복
- 행복이 이미 최대치라 변화가 없으면 EXP를 주지 않습니다.

4. Health
- Health는 주로 다른 상태 악화의 영향을 받아 변하고, 액션/시간 경과에 따라 함께 갱신됩니다.

## 오버레이 조작
1. Click-through 토글 버튼
- `Click-through: OFF` 상태에서 UI를 직접 클릭할 수 있습니다.
- `Click-through: ON` 상태에서는 UI가 클릭되지 않습니다.

2. 캐릭터 추가/삭제
- `+ 캐릭터`, `- 캐릭터`로 보조 캐릭터를 관리합니다.
- 놀이터 영역에서 캐릭터를 드래그해 위치를 바꿀 수 있습니다.

3. 창 위치 저장
- 앱 종료 후 재실행해도 마지막 위치를 복원합니다.
- 저장 위치가 화면 밖이면 앱 시작 시 작업영역 안으로 자동 보정됩니다.

## 활동 EXP
1. `활동 EXP: ON/OFF`
- 자동 수집을 켜거나 끕니다.
- ON 상태에서는 앱이 백그라운드여도 시간 기반 활동 EXP가 누적됩니다.

2. `EXP 획득`
- 버튼 클릭 시 수동 보상 EXP를 즉시 받습니다.
- 5분 쿨다운이 지나야 다시 받을 수 있습니다.

3. `활동 EXP 리셋`
- 활동 기반 누적 EXP를 초기화합니다.

4. EXP 집계 상세 보기
- EXP 수치(예: `0 / 30`)를 클릭하면 입력 이벤트(`keydown`, `mousedown`, `mousemove`, `wheel`, `touchstart`) 집계와 샘플/일일 누적 시간이 표시됩니다.

5. Help 버튼
- 각 버튼의 의미(자동 활동 EXP, 수동 EXP 획득, 기록 초기화, 액션 EXP 조건)를 앱 내에서 바로 확인할 수 있습니다.

## 버튼이 안 보일 때
1. 상태 문구 확인
- `상태 양호`는 경고 수준을 표시하는 텍스트일 뿐, 버튼 표시 조건이 아닙니다.

2. 실행 파일 경로 확인
- 반드시 최신 경로(`out/DesktopPetOverlay-win32-x64/DesktopPetOverlay.exe`)를 실행합니다.

3. 창/설정 초기화
- `%APPDATA%\DesktopPetOverlay\overlay-preferences.json` 삭제 후 재실행합니다.

4. 단축키 등록 실패 시
- 다른 프로그램이 단축키를 점유했을 수 있습니다.
- 겹치는 앱 종료 후 재실행하고 `Ctrl+Alt+Shift+O`를 다시 시도합니다.

5. 활동 EXP가 오르지 않을 때
- `활동 EXP: ON` 상태인지 먼저 확인합니다.
- 5분 샘플링 주기 후 반영되므로 즉시 반영되지 않을 수 있습니다.
- EXP 수치를 눌러 집계 상세(시간/입력 이벤트)를 확인합니다.

6. `활동 EXP 기록 초기화` 버튼 의미
- 활동 시스템으로 누적된 EXP 기록을 초기화하면서 캐릭터 총 EXP에서 해당 누적치를 차감합니다.
- 밸런스 재테스트나 저장 데이터 점검 시에 사용하는 관리 기능입니다.

## 자주 묻는 질문
1. Q. 상태가 양호하면 Feed/Clean/Play가 숨겨지나요?
- A. 아니요. 버튼은 항상 표시됩니다.

2. Q. 클릭 통과를 켰더니 UI를 못 누릅니다.
- A. 정상입니다. `Ctrl+Alt+Shift+O`로 클릭 통과를 끄면 다시 누를 수 있습니다.
