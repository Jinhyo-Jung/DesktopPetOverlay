# PC 활동 EXP 정책

## 결론
현재 버전은 개인정보를 수집하지 않는 로컬 집계 방식으로 PC 활동을 EXP에 반영하며, 일일 상한과 수동 체크인 대체 경로를 함께 제공한다.

## 수집 원칙
1. 입력 원문(키 입력 텍스트), 클립보드 내용, 문서 제목은 수집하지 않는다.
2. 활동량은 집계 카운터(활성 시간, 입력 이벤트 수)만 저장한다.
3. 데이터는 로컬 저장소에만 보관하고 외부 전송을 하지 않는다.

## 수집 항목
1. 활성 시간(초): `document.visibilityState === "visible"` 이고 앱 포커스가 있는 구간만 집계.
2. 입력 이벤트 수: `keydown`, `mousedown`, `mousemove`, `wheel`, `touchstart` 이벤트 횟수만 집계.
3. 일일 누적 활동 EXP: 당일 자동 환산으로 획득한 EXP 총량.
4. 일일 체크인 EXP: 수동 체크인으로 획득한 EXP 총량.

## EXP 환산 규칙
1. 샘플링 주기: 5분.
2. 환산식: `floor(activeMinutes * 0.4 + inputEvents / 140)`.
3. 자동 환산 일일 상한: 36 EXP.
4. 수동 체크인 보상: 1회 4 EXP, 1시간 쿨다운, 일일 상한 12 EXP.

## 사용자 제어
1. 활동 EXP On/Off 토글: 자동 집계를 즉시 중단/재개할 수 있다.
2. 활동 EXP 리셋: 활동으로 누적된 EXP를 현재 캐릭터 EXP에서 차감해 초기화한다.
3. 수동 체크인: 자동 측정이 어렵거나 비활성화된 경우 대체 EXP 획득 경로로 사용한다.

## 장애/예외 처리
1. 자동 측정 신호를 사용할 수 없으면 수동 체크인 경로를 우선 안내한다.
2. 일일 상한 또는 쿨다운에 걸리면 EXP는 지급하지 않고 상태 메시지로 이유를 표시한다.
3. 날짜가 바뀌면 일일 누적치(자동/체크인)를 0으로 초기화한다.

## 밸런스 메모
1. 자동 환산은 장시간 플레이에서도 급격한 성장(단일 일차 성체 도달)을 방지하도록 상한을 둔다.
2. 수동 체크인은 “진행 막힘 방지”용이며 자동 환산보다 낮은 한도로 제한한다.
